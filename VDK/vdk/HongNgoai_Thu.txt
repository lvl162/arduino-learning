#include <IRremote.h> // thư viện hỗ trợ IR remote

const int receiverPin = 9; // chân digital 8 dùng để đọc tín hiệu
IRrecv irrecv(receiverPin); // tạo đối tượng IRrecv mới
decode_results results;// lưu giữ kết quả giải mã tín hiệu

const int In3 = 8;
const int In4 = 7;
const int Motor1 = 5;

//const isDoiChieu;
void setup()
{
  Serial.begin(9600);// serial baudrate 9600
  irrecv.enableIRIn(); // start the IR receiver
  pinMode(13, OUTPUT);
  pinMode(In3, OUTPUT);
  pinMode(In4, OUTPUT);
//  isDoiChieu = 1;
}

void loop()
{
  if (irrecv.decode(&results)) // nếu nhận được tín hiệu
  {
    Serial.println(results.value, HEX); // in ra Serial Monitor
    
    if (results.value == 1) {
//      digitalWrite(In3, LOW);
//      digitalWrite(In4, LOW);
//      delay(1000);
      digitalWrite(In3, HIGH);
      digitalWrite(In4, LOW);
      analogWrite(Motor1, 100);
    }
    if (results.value == 0) {
//      digitalWrite(In3, LOW);
//      digitalWrite(In4, LOW);
//      delay(1000);
      digitalWrite(In3, LOW);
    digitalWrite(In4, HIGH);
    
  analogWrite(Motor1, 100);
      };
    delay(200);
    irrecv.resume(); // nhận giá trị tiếp theo
  }
}
